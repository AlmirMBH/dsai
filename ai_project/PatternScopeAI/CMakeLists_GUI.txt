cmake_minimum_required(VERSION 3.18)

set(CMAKE_OSX_ARCHITECTURES "arm64" CACHE STRING "Mac OS X build architectures" FORCE)

set(SOLUTION_NAME patternScopeAISol)

project(${SOLUTION_NAME})
set(SOURCE_ROOT ${CMAKE_CURRENT_LIST_DIR})
set(HOME_ROOT $ENV{HOME})
if (WIN32)
    string(REPLACE "\\" "/" HOME_ROOT "${HOME_ROOT}")
endif()
set(WORK_ROOT ${HOME_ROOT}/Work)
include(${WORK_ROOT}/DevEnv/Common.cmake)

include(${WORK_ROOT}/DevEnv/natGUI.cmake)

set(PATTERNSCOPEAI_NAME patternScopeAI)

file(GLOB PATTERNSCOPEAI_SOURCES ${CMAKE_CURRENT_LIST_DIR}/src/gui/*.cpp ${CMAKE_CURRENT_LIST_DIR}/src/data/*.cpp ${CMAKE_CURRENT_LIST_DIR}/src/ai/*/*.cpp)
file(GLOB PATTERNSCOPEAI_INCS ${CMAKE_CURRENT_LIST_DIR}/src/gui/*.h ${CMAKE_CURRENT_LIST_DIR}/src/data/*.h ${CMAKE_CURRENT_LIST_DIR}/src/ai/*/*.h)
set(PATTERNSCOPEAI_PLIST ${CMAKE_CURRENT_LIST_DIR}/src/gui/Info.plist)
file(GLOB PATTERNSCOPEAI_INC_TD ${MY_INC}/td/*.h)
file(GLOB PATTERNSCOPEAI_INC_GUI ${MY_INC}/gui/*.h)

add_executable(${PATTERNSCOPEAI_NAME} ${PATTERNSCOPEAI_SOURCES} ${PATTERNSCOPEAI_INCS} ${PATTERNSCOPEAI_INC_TD} ${PATTERNSCOPEAI_INC_GUI})

source_group("inc" FILES ${PATTERNSCOPEAI_INCS})
source_group("inc\\td" FILES ${PATTERNSCOPEAI_INC_TD})
source_group("inc\\gui" FILES ${PATTERNSCOPEAI_INC_GUI})
source_group("src" FILES ${PATTERNSCOPEAI_SOURCES})

target_link_libraries(${PATTERNSCOPEAI_NAME} debug ${MU_LIB_DEBUG} debug ${NATGUI_LIB_DEBUG}
                                optimized ${MU_LIB_RELEASE} optimized ${NATGUI_LIB_RELEASE})

setTargetPropertiesForGUIApp(${PATTERNSCOPEAI_NAME} ${PATTERNSCOPEAI_PLIST})

setIDEPropertiesForGUIExecutable(${PATTERNSCOPEAI_NAME} ${CMAKE_CURRENT_LIST_DIR})

setPlatformDLLPath(${PATTERNSCOPEAI_NAME})

